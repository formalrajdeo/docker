version: '3.1'
services:

  mongodb:
    image: mongo
    container_name: mongodb
    restart: always
    ports:
      - 27018:27017
    volumes:
      - ./mongodb_data:/data/db
    environment:
      - MONGO_INITDB_ROOT_USERNAME=root
      - MONGO_INITDB_ROOT_PASSWORD=password
    expose:
      - 27018
    command: --quiet

  # mongo-express:
  #   image: mongo-express
  #   container_name: mongo-express
  #   restart: always
  #   ports:
  #     - 8081:8081
  #   environment:
  #     - ME_CONFIG_MONGODB_ADMINUSERNAME=root
  #     - ME_CONFIG_MONGODB_ADMINPASSWORD=password
  #     - ME_CONFIG_MONGODB_SERVER=mongodb:27018
  #     - ME_CONFIG_MONGODB_ENABLE_ADMIN=true
  #   command: sh -c 'apk update && apk add mongodb-tools && node app'

  # mysqldb:
  #   image: mysql
  #   restart: always
  #   environment:
  #     MYSQL_ROOT_PASSWORD: password
  #     MYSQL_DATABASE: test_db
  #   ports:
  #     - "3306:3306"
  #   volumes:
  #     - ./mysql_data:/var/lib/mysql

  # phpmyadmin:
  #   image: phpmyadmin/phpmyadmin:latest
  #   restart: always
  #   environment:
  #     PMA_HOST: mysqldb
  #     PMA_USER: root
  #     PMA_PASSWORD: password
  #   ports:
  #     - "8080:80"

  # pgadmin:
  #   image: dpage/pgadmin4
  #   restart: always
  #   environment:
  #     PGADMIN_DEFAULT_EMAIL: admin@example.com
  #     PGADMIN_DEFAULT_PASSWORD: admin123
  #   ports:
  #     - "5050:80"

  postgres:
    image: postgres:15
    restart: always
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
      POSTGRES_DB: test_db
    ports:
      - "5432:5432"
    volumes:
      - ./postgres_data:/var/lib/postgresql/data

  # redis:
  #   image: redis
  #   restart: always
  #   ports:
  #     - "6379:6379"
  #   environment:
  #     - REDIS_PASSWORD=password
  
  # redis-insight:
  #   image: redislabs/redisinsight
  #   container_name: redis-insight
  #   restart: always
  #   ports:
  #     - "8001:8001"
  #   environment:
  #     - REDISINSIGHT_REDIS_HOSTS=redis:6379

  # php-apache-environment:
  #   container_name: php-apache
  #   image: php:8.0-apache
  #   volumes:
  #     - ./php/src:/var/www/html/
  #   ports:
  #     - 8000:80

  # elasticsearch:
  #   image: docker.elastic.co/elasticsearch/elasticsearch:7.13.4
  #   container_name: elasticsearch
  #   environment:
  #     - discovery.type=single-node
  #   ports:
  #     - 9200:9200
  #   volumes:
  #     - ./elasticsearch_data:/usr/share/elasticsearch/data

  # filezilla-server:
  #   image: linuxserver/filezilla
  #   container_name: filezilla-server
  #   restart: always
  #   ports:
  #     - "21:21"  # FTP control port
  #     - "50000-50010:50000-50010"  # Passive mode port range
  #   volumes:
  #     - ./filezilla_data:/config
  #   environment:
  #     - TZ=Asia/Kolkata  # Set the timezone to Asia/Kolkata
  #     - FTP_USER=username
  #     - FTP_PASS=password
  #     - PASV_ADDRESS=localhost
  #   expose:
  #     - "21"
  #     - "50000-50010"
      
networks:
  default:
    name: mongodb_network
